<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>pond(1) Version 0.9.0 | Pond User’s Guide</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">pond(1) Version 0.9.0 | Pond User’s Guide</h1>
</header>
<h1 id="name">NAME</h1>
<p><strong>pond</strong> — a shell environment manager for the fish shell</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="line-block"><strong>pond</strong> [<em>options</em>]<br />
<strong>pond</strong> <em>command</em> [<em>options</em>] …</div>
<h1 id="description">DESCRIPTION</h1>
<p>A pond represents a collection of shell variables (and in a future release functions) within the fish shell. Ponds are used to group related shell variables together. Naming ponds after individual applications or local development environments is a good way to separate and control them by use-case.</p>
<p>Pond provides tab completion for all commands and options discussed here in addition to pond name completion for any ponds that exist locally.</p>
<p>Arguments can be read from standard input when <strong>pond</strong> is used in a pipeline. For example, to remove all disabled ponds:</p>
<p><em>Example:</em> <strong>pond list --disabled | pond remove</strong></p>
<p>All arguments passed via standard input are appended to the arguments already present in the <strong>pond</strong> command. When used in this way, the <strong>--yes</strong> option is assumed by commands that support this option, meaning user confirmation prompts will be automatically accepted for those operations (see <strong>COMMANDS</strong> to determine which commands this applies to), and the <strong>--empty</strong> option is assumed for the <strong>create</strong> command. <strong>pond</strong> exits 1 if the <strong>edit</strong> command is used without a tty.</p>
<h2 id="options">Options</h2>
<dl>
<dt><strong>-h,</strong> <strong>--help</strong></dt>
<dd><p>Print brief usage information</p>
</dd>
<dt><strong>-v,</strong> <strong>--version</strong></dt>
<dd><p>Print the current version string</p>
</dd>
</dl>
<h1 id="commands">COMMANDS</h1>
<h2 id="create--e--empty--p--private-pond"><strong>create</strong> [<strong>-e</strong>|<strong>--empty</strong>] [<strong>-p</strong>|<strong>--private</strong>] <em>pond</em></h2>
<p>Create a new pond named <em>pond</em>. Each pond comprises a directory tree containing a single file for storing shell variable definitions (i.e. <strong>set</strong>(1) commands) and a <em>functions</em> subdirectory intended for storing <em>autoloaded</em> fish functions (to be implemented in a future update).</p>
<p>A pond may be marked <strong>--private</strong> during creation. Private ponds are intended to store shell variables that contain sensitive values (e.g. tokens or keys). Private ponds are stored in a separate directory tree to regular ponds and their collective parent directory is given 0700 permissions rather than the 0755 permissions used by regular ponds. In addition, private ponds may be treated differently by pond commands introduced in future updates.</p>
<p>By default, a directory named <em>pond</em> is created within either the <strong>regular</strong> or <strong>private</strong> subdirectory under <strong>$__fish_config_dir/pond/</strong> dependent upon the type of the pond.</p>
<p>When creating a new pond, an interactive editor is opened (unless the <strong>--empty</strong> option is specified) ready to add new shell variable definitions. See <strong>ENVIRONMENT</strong> for a discussion of the <strong>pond_editor</strong> universal variable that controls which editor is used.</p>
<dl>
<dt><strong>-e</strong>, <strong>--empty</strong></dt>
<dd><p>Create an empty pond without opening an interactive editor (this option is inferred when using <strong>pond</strong> in the context of a pipeline)</p>
</dd>
<dt><strong>-p</strong>, <strong>--private</strong></dt>
<dd><p>Create a private pond</p>
</dd>
</dl>
<h2 id="remove--y--yes-ponds"><strong>remove</strong> [<strong>-y</strong>|<strong>--yes</strong>] <em>ponds…</em></h2>
<p>Remove <em>ponds</em>. All pond data will be erased for each named pond (i.e. the pond directory located in <strong>$__fish_config_dir/pond/regular/</strong> or <strong>$__fish_config_dir/pond/private/</strong> for each named pond is erased). Confirmation is requested from the user for each named pond and a <strong>yes</strong> response confirms removal of the named pond. Confirmation prompts can be automatically accepted with the <strong>--yes</strong> option.</p>
<dl>
<dt><strong>-y</strong>, <strong>--yes</strong></dt>
<dd><p>Automatically accept confirmation prompts (this option is inferred when using <strong>pond</strong> in the context of a pipeline)</p>
</dd>
</dl>
<h2 id="list--p--private--r--regular--e--enabled--d--disabled"><strong>list</strong> [<strong>-p</strong>|<strong>--private</strong>] [<strong>-r</strong>|<strong>--regular</strong>] [<strong>-e</strong>|<strong>--enabled</strong>] [<strong>-d</strong>|<strong>--disabled</strong>]</h2>
<p>List ponds. If no options are specified, <em>all</em> pond names will be printed to standard output, one per line (equivalent to combining all four options <strong>--private</strong>, <strong>--regular</strong>, <strong>--enabled</strong> and <strong>--disabled</strong>).</p>
<p>If only one of <strong>-p</strong>|<strong>--private</strong> or <strong>-r</strong>|<strong>--regular</strong> is specified, the other option is assumed disabled (e.g. by specifying <strong>-p</strong>|<strong>--private</strong> only private ponds will be listed). If neither option is provided both are assumed enabled.</p>
<p>If only one of <strong>-e</strong>|<strong>--enabled</strong> or <strong>-d</strong>|<strong>--disabled</strong> is specified, the other option is assumed disabled (e.g. by specifying <strong>-e</strong>|<strong>--enabled</strong>, only enabled ponds will be listed). If neither option is provided both are assumed enabled.</p>
<dl>
<dt><strong>-p</strong>, <strong>--private</strong></dt>
<dd><p>List private ponds</p>
</dd>
<dt><strong>-r</strong>, <strong>--regular</strong></dt>
<dd><p>List regular ponds</p>
</dd>
<dt><strong>-e</strong>, <strong>--enabled</strong></dt>
<dd><p>List enabled ponds</p>
</dd>
<dt><strong>-d</strong>, <strong>--disabled</strong></dt>
<dd><p>List disabled ponds</p>
</dd>
</dl>
<p><em>Example:</em> <strong>pond list --private</strong> (list private ponds, both enabled and disabled)</p>
<p><em>Example:</em> <strong>pond list --disabled</strong> (list disabled ponds, both regular and private)</p>
<p><em>Example:</em> <strong>pond list --enabled --private</strong> (list enabled private ponds only)</p>
<h2 id="edit-pond"><strong>edit</strong> <em>pond</em></h2>
<p>Open an interactive editor for modifying shell variables in a pond (i.e. <strong>set</strong>(1) commands). See <strong>ENVIRONMENT</strong> for a discussion of the <strong>pond_editor</strong> <em>universal</em> variable that controls which editor is used.</p>
<h2 id="enable-ponds"><strong>enable</strong> <em>ponds…</em></h2>
<p>Enable <em>ponds</em>. A symbolic link will be created in <strong>$__fish_config_dir/pond/links</strong> to the pond directory for each named pond (a pond’s directory path can be viewed using the <strong>status</strong> command). When a new shell session is created, the <strong>env_vars.fish</strong> file for each enabled pond is sourced into the shell environment, making shell variables created with the <strong>set</strong>(1) command accessible to the shell, and making exported variables (i.e. <strong>set -x</strong> …) available to child processes of the shell.</p>
<h2 id="disable-ponds"><strong>disable</strong> <em>ponds…</em></h2>
<p>Disable <em>ponds</em>. The symbolic link to the pond directory in <strong>$__fish_config_dir/pond/links</strong> for each named pond is removed. Any shell variables present in each named pond’s <strong>env_vars.fish</strong> file will no longer be sourced into shell sessions that are created after those ponds are disabled.</p>
<h2 id="load-ponds"><strong>load</strong> <em>ponds…</em></h2>
<p>Load <em>ponds</em>. The path of each named pond’s <strong>env_vars.fish</strong> file will be passed to the <strong>source</strong>(1) command and its contents evaluated in the current shell session, making shell variables created with the <strong>set</strong>(1) command accessible to the current shell, and making exported variables (i.e. <strong>set -x</strong> …) available to child processes of the current shell.</p>
<h2 id="unload-ponds"><strong>unload</strong> <em>ponds…</em></h2>
<p>Unload <em>ponds</em>. <strong>pond</strong> will attempt to parse each named pond’s <strong>env_vars.fish</strong> file for <strong>set</strong>(1) commands and will erase matching shell variables from the current shell session using <strong>set -e</strong>.</p>
<dl>
<dt><strong>-v</strong>, <strong>--verbose</strong></dt>
<dd><p>Output variable names during unload</p>
</dd>
</dl>
<h2 id="status-ponds"><strong>status</strong> [<em>ponds…</em>]</h2>
<p>View global status (without arguments) or status of <em>ponds</em>. Global status includes total pond count and enabled pond count. Pond status includes the <em>name</em> of the pond, its <em>enabled</em> state (<strong>yes</strong> or <strong>no</strong>), <em>private</em> state (<strong>yes</strong> or <strong>no</strong>) and the absolute <em>path</em> to the directory comprising its data.</p>
<h2 id="drain--y--yes-ponds"><strong>drain</strong> [<strong>-y</strong>|<strong>--yes</strong>] <em>ponds…</em></h2>
<p>Drain <em>ponds</em>. All content is removed from the <strong>env_vars.fish</strong> file for each named pond. If any of the named ponds was enabled, or had been previously loaded into the current shell session with the <strong>load</strong> command, then its variables <em>will remain set</em> in the shell environment and continue to be accessible to processes spawned by the current shell until it exits.</p>
<dl>
<dt><strong>-y</strong>, <strong>--yes</strong></dt>
<dd><p>Automatically accept confirmation prompts (this option is inferred when using <strong>pond</strong> in the context of a pipeline)</p>
</dd>
</dl>
<h2 id="dir-pond"><strong>dir</strong> <em>pond</em></h2>
<p>Change the current working directory to the pond directory for <em>pond</em>.</p>
<h2 id="config"><strong>config</strong></h2>
<p>Print the current configuration settings.</p>
<h1 id="environment">ENVIRONMENT</h1>
<p>A number of <em>universal</em> shell variables (see <strong>set</strong>(1) for discussion of <em>universal</em> variables) are set during installation. These variables control different aspects of functionality of <strong>pond</strong> and may be modified as described here:</p>
<dl>
<dt><strong>pond_editor</strong></dt>
<dd><p>The editor to open when using the <strong>create</strong> or <strong>edit</strong> commands. May be set to an absolute path or the name of a command accessible via one of the paths specified in the <strong>PATH</strong> environment variable. During installation this variable is set to the value of the <strong>EDITOR</strong> environment variable, if set, or one of <strong>vim</strong>, <strong>vi</strong>, <strong>emacs</strong>, or <strong>nano</strong>, whichever is found first in one of the paths set in <strong>PATH</strong>, working from left to right. An error may be generated during installation if no suitable editor is found.</p>
</dd>
<dt><strong>pond_enable_on_create</strong></dt>
<dd><p>The value of this shell variable is set to <strong>yes</strong> by default and will cause all ponds created with the <strong>create</strong> command to be enabled by default. To disable this behaviour set the value of this variable to <strong>no</strong>.</p>
<p><em>Default:</em> <strong>yes</strong>.</p>
</dd>
</dl>
<h1 id="exit-status">EXIT STATUS</h1>
<p><strong>pond</strong> exits 0 on success, and &gt;0 if an error occurs.</p>
<h1 id="bugs">BUGS</h1>
<p>See GitHub Issues: https://github.com/marcransome/pond/issues</p>
<h1 id="author">AUTHOR</h1>
<p>Marc Ransome <a href="mailto:marc.ransome@fidgetbox.co.uk" class="email">marc.ransome@fidgetbox.co.uk</a></p>
<h1 id="see-also">SEE ALSO</h1>
<p>fish(1), fish-doc(1), fish-completions(1), set(1)</p>
</body>
</html>
